"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[287],{1112:function(e,t,r){r.d(t,{Z:function(){return a}});var s="title-page_titlePage__ZBar5",n=r(184),a=function(e){var t=e.children;return(0,n.jsx)("h2",{className:s,children:t})}},4287:function(e,t,r){r.r(t),r.d(t,{default:function(){return oe}});var s=r(9439),n="products_wrapper__dIgK4",a="products_productsPage__NqW3z",c=r(1112),o=r(5861),i=r(4942),l=r(1413),d=r(7757),u=r.n(d),_="ProductsFilters_filters__z4dz4",m="ProductsFilters_text__ZAjtR",h="ProductsFilters_search__woo7r",p="ProductsFilters_input__fjAQm",f="ProductsFilters_svgSearchClose__1z2l4",v="ProductsFilters_svgSearch__1owZG",g="ProductsFilters_arrowCat__4HYoZ",x="ProductsFilters_arrowRec__C3G7R",j="ProductsFilters_categories__S10h+",N="ProductsFilters_filterListWrapper__KZ0fq",y="ProductsFilters_filterList__WzNBS",w="ProductsFilters_recommended__ckk4J",C="ProductsFilters_recommendedList__sflg6",k="ProductsFilters_filterLabel__hiLwC",P="ProductsFilters_filterItem__kbeJy",I=r(4865),b=r(2791),Z=r(1617),F=r(4420),M=function(e){return e.products.products.items},S=function(e){return e.products.filter},V=r(6080),W=r(184),B={category:!1,allowed:!1},R=function(){var e=(0,F.I0)(),t=(0,b.useState)(null),r=(0,s.Z)(t,2),n=r[0],a=r[1],c=(0,b.useState)(""),d=(0,s.Z)(c,2),M=d[0],R=d[1],E=(0,b.useState)(B),L=(0,s.Z)(E,2),O=L[0],A=L[1],z=(0,F.v9)(S);console.log(z);var T=function(e){var t=e.currentTarget.dataset.type;A((function(e){return(0,l.Z)((0,l.Z)({},B),{},(0,i.Z)({},t,!e[t]))}))},G=function(t){if("LI"===t.target.nodeName){var r,s=t.currentTarget.dataset.type;r="Recommended"===t.target.textContent?"yes":"Not recommended"===t.target.textContent?"no":t.target.textContent;var n=(0,l.Z)((0,l.Z)({},z),{},(0,i.Z)({},s,r));e((0,V.K)(n)),e((0,Z.t)(n)),A(B)}};return(0,b.useEffect)((function(){var e=function(){var e=(0,o.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.p)();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,W.jsxs)("div",{className:_,children:[(0,W.jsx)("p",{className:m,children:"Filters"}),(0,W.jsxs)("div",{className:h,children:[(0,W.jsx)("svg",{className:v,children:(0,W.jsx)("use",{href:"".concat(I.Z,"#icon-search")})}),(0,W.jsx)("input",{className:p,type:"text",placeholder:"Search",id:"productsSearch",onChange:function(t){console.log(t.target.value),R(t.target.value);var r=(0,l.Z)((0,l.Z)({},z),{},{searchQuery:t.target.value});e((0,V.K)(r)),e((0,Z.t)(r))},value:M}),(0,W.jsx)("svg",{className:f,onClick:function(){R("")},children:(0,W.jsx)("use",{href:"".concat(I.Z,"#icon-close-in-search")})})]}),(0,W.jsxs)("div",{className:j,children:[(0,W.jsx)("p",{className:k,onClick:T,"data-type":"category",children:""===z.category?"Categories":z.category}),(0,W.jsx)("svg",{className:"".concat(v," ").concat(O.category?g:""),children:(0,W.jsx)("use",{href:"".concat(I.Z,"#icon-arrow-down")})}),O.category&&(0,W.jsx)("div",{className:N,children:(0,W.jsx)("ul",{className:y,onClick:G,"data-type":"category",children:n.map((function(e,t){return(0,W.jsx)("li",{className:P,children:e},t)}))})})]}),(0,W.jsxs)("div",{className:w,children:[(0,W.jsx)("p",{className:k,onClick:T,"data-type":"allowed",children:""===z.allowed?"All":z.allowed}),(0,W.jsx)("svg",{className:"".concat(v," ").concat(O.allowed?x:""),children:(0,W.jsx)("use",{href:"".concat(I.Z,"#icon-arrow-down")})}),O.allowed&&(0,W.jsxs)("ul",{className:C,onClick:G,"data-type":"allowed",children:[(0,W.jsx)("li",{className:P,children:"All"}),(0,W.jsx)("li",{className:P,children:"Recommended"}),(0,W.jsx)("li",{className:P,children:"Not recommended"})]})]})]})},E=r(4925),L="ProductsList_productsList__3HQgi",O={card:"ProductsItem_card__gjyRG",upperContent:"ProductsItem_upperContent__l27qW",dietWrapper:"ProductsItem_dietWrapper__Xyk2v",diet:"ProductsItem_diet__W066o",cardStatus:"ProductsItem_cardStatus__P-act",statusCircle:"ProductsItem_statusCircle__hjnsp",statusText:"ProductsItem_statusText__i1toM",statusBtn:"ProductsItem_statusBtn__MrhqO",svgBtn:"ProductsItem_svgBtn__KFoGl",titleWrapper:"ProductsItem_titleWrapper__IFVpr",title:"ProductsItem_title__1gcfl",svgWrapper:"ProductsItem_svgWrapper__kCnB1",lowerConten:"ProductsItem_lowerConten__M0k+d",svgTitle:"ProductsItem_svgTitle__GGUz7",cardInfo:"ProductsItem_cardInfo__7qxc7",infoContent:"ProductsItem_infoContent__RQ2VM",amount:"ProductsItem_amount__oBuGW"},A=r(5671),z=r(3144),T=r(7326),G=r(136),q=r(3668),K=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"],Q=Object.defineProperty,U=function(e,t,r){return function(e,t,r){t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}(e,"symbol"!==typeof t?t+"":t,r),r},H=new Map,J=new WeakMap,X=0,Y=void 0;function D(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"_").concat("root"===t?(r=e.root)?(J.has(r)||(X+=1,J.set(r,X.toString())),J.get(r)):"0":e[t]);var r})).toString()}function $(e){var t=D(e),r=H.get(t);if(!r){var s,n=new Map,a=new IntersectionObserver((function(t){t.forEach((function(t){var r,a=t.isIntersecting&&s.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=a),null==(r=n.get(t.target))||r.forEach((function(e){e(a,t)}))}))}),e);s=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:a,elements:n},H.set(t,r)}return r}function ee(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y;if("undefined"===typeof window.IntersectionObserver&&void 0!==s){var n=e.getBoundingClientRect();return t(s,{isIntersecting:s,target:e,intersectionRatio:"number"===typeof r.threshold?r.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),function(){}}var a=$(r),c=a.id,o=a.observer,i=a.elements,l=i.get(e)||[];return i.has(e)||i.set(e,l),l.push(t),o.observe(e),function(){l.splice(l.indexOf(t),1),0===l.length&&(i.delete(e),o.unobserve(e)),0===i.size&&(o.disconnect(),H.delete(c))}}b.Component;var te=function(e){var t=e.data,r=e.openModal,n=t.calories,a=t.category,c=t.title,o=t.weight,i=c[0].toUpperCase()+c.slice(1).toLowerCase(),l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.threshold,n=t.delay,a=t.trackVisibility,c=t.rootMargin,o=t.root,i=t.triggerOnce,l=t.skip,d=t.initialInView,u=t.fallbackInView,_=t.onChange,m=b.useState(null),h=(0,s.Z)(m,2),p=h[0],f=h[1],v=b.useRef(),g=b.useState({inView:!!d,entry:void 0}),x=(0,s.Z)(g,2),j=x[0],N=x[1];v.current=_,b.useEffect((function(){var e;if(!l&&p)return e=ee(p,(function(t,r){N({inView:t,entry:r}),v.current&&v.current(t,r),r.isIntersecting&&i&&e&&(e(),e=void 0)}),{root:o,rootMargin:c,threshold:r,trackVisibility:a,delay:n},u),function(){e&&e()}}),[Array.isArray(r)?r.toString():r,p,o,c,i,l,a,u,n]);var y=null==(e=j.entry)?void 0:e.target,w=b.useRef();p||!y||i||l||w.current===y||(w.current=y,N({inView:!!d,entry:void 0}));var C=[f,j.inView,j.entry];return C.ref=C[0],C.inView=C[1],C.entry=C[2],C}({threshold:.5,triggerOnce:!0}),d=l.ref,u=l.inView;return(0,W.jsx)("li",{className:O.card,ref:d,children:u&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{className:O.upperContent,children:[(0,W.jsx)("div",{className:O.dietWrapper,children:(0,W.jsx)("p",{className:O.diet,children:"diet"})}),(0,W.jsxs)("div",{className:O.cardStatus,children:[(0,W.jsx)("svg",{className:O.statusCircle,children:(0,W.jsx)("use",{href:"".concat(I.Z,"#icon-circle-green")})}),(0,W.jsx)("p",{className:O.statusText,children:"Recommended"}),(0,W.jsxs)("button",{type:"button",className:O.statusBtn,onClick:r,children:["Add",(0,W.jsx)("svg",{className:O.svgBtn,children:(0,W.jsx)("use",{href:"".concat(I.Z,"#icon-next-arrow")})})]})]})]}),(0,W.jsxs)("div",{className:O.lowerContent,children:[(0,W.jsxs)("div",{className:O.titleWrapper,children:[(0,W.jsx)("div",{className:O.svgWrapper,children:(0,W.jsx)("svg",{className:O.svgTitle,children:(0,W.jsx)("use",{href:"".concat(I.Z,"#icon-runningMan")})})}),(0,W.jsx)("h3",{className:O.title,children:i})]}),(0,W.jsxs)("div",{className:O.cardInfo,children:[(0,W.jsxs)("div",{className:O.infoContent,children:["Calories: ",(0,W.jsx)("span",{className:O.amount,children:n})]}),(0,W.jsxs)("div",{className:O.infoContent,children:["Category: ",(0,W.jsx)("span",{className:O.amount,children:a})]}),(0,W.jsxs)("div",{className:O.infoContent,children:["Weight: ",(0,W.jsx)("span",{className:O.amount,children:o})]})]})]})]})})},re=["_id"],se=function(e){var t=e.openModal,r=(0,F.I0)(),s=(0,F.v9)(M),n=(0,F.v9)(S);return console.log(n),(0,b.useEffect)((function(){r((0,Z.t)())}),[r]),(0,W.jsx)("ul",{className:L,children:s&&s.map((function(e){var r=e._id,s=(0,E.Z)(e,re);return(0,W.jsx)(te,{data:s,openModal:t},r)}))})},ne={backdrop:"productsModal_backdrop__FIz48",modal:"productsModal_modal__iUaw8",modalCloseBtn:"productsModal_modalCloseBtn__rEEQj",svgclose:"productsModal_svgclose__3rN-o"},ae=function(e){var t=e.isOpen,r=e.onClose;if(!t)return null;t&&document.addEventListener("keydown",(function e(t){if("Escape"===t.code)return console.log("Escape"),r(),document.removeEventListener("keydown",e)}));var s=function(e){"backdrop"!==e.target.dataset.type&&"close-modal"!==e.target.dataset.type||r()};return(0,W.jsx)("div",{className:ne.backdrop,onClick:s,"data-type":"backdrop",children:(0,W.jsxs)("div",{className:ne.modal,children:[(0,W.jsx)("button",{className:ne.modalCloseBtn,type:"button",onClick:s,"data-type":"close-modal",children:(0,W.jsx)("svg",{className:ne.svgclose,children:(0,W.jsx)("use",{href:"".concat(I.Z,"#icon-close-modal")})})}),(0,W.jsx)("p",{className:ne.text,children:"modal is under construction"})]})})},ce=r(5700),oe=function(){var e=(0,b.useState)(!1),t=(0,s.Z)(e,2),r=t[0],o=t[1];return(0,W.jsxs)("div",{className:a,children:[(0,W.jsx)(ce.W,{children:(0,W.jsxs)("div",{className:n,children:[(0,W.jsx)(c.Z,{children:"Products",className:n}),(0,W.jsx)(R,{}),(0,W.jsx)(se,{openModal:function(){o(!0)}})]})}),(0,W.jsx)(ae,{isOpen:r,onClose:function(e){o(!1)}})]})}}}]);
//# sourceMappingURL=287.0a403243.chunk.js.map